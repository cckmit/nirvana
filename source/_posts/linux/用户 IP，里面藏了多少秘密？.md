---
title: 用户 IP，里面藏了多少秘密？
date: 2021-11-24 16:28:03
categories: linux
---
Internet 上每个设备都需要一个唯一的“门牌号”才能与其他设备进行网络通信交换数据，这个“门牌号”就是 IP 地址。在设备建立连接期间，IP 地址会被自动或手动地分配给联网设备，分配过程中 Internet 协议（IP）起着重要作用。

互联网协议地址（也被称为“IP 地址”或简称为“IP”）是互联网的基础。它基于 Internet 协议，是指内部或外部网络中的设备（例如计算机，Web 服务器或打印机等）的唯一可识别地址。IP 地址可以指定整个设备组，也可以为一台计算机分配多个地址。同时网络中的每个 IP 地址在任何给定时间只能使用一次。下面我们来详细说说 IP 地址的运作原理。

## IPv4、IPv6 及 IP 的类型

IP 地址现在有两个版本，分别是 IPv4 和 IPv6。

**IPv4 地址**

大多数设备当前主要使用 Internet 协议版本 4（IPv4）的地址。它由 32 位二进制数组成，例如 11000000 10101000 10110010 00011111。为了使此数字好分辨，通常将这 32 位二进制数表示为四个十进制数字的组合，其值从 0 到 255，以点 . 分隔。例如：192.168.178.31。

IPv4 总共可以构成约 43 亿个不同的地址。对于早期全球互联网设备而言，因为所有设备不会同时使用，而某些设备也仅在专用网络中使用， IP 地址数目就显得很充足。但现在越来越多的日常设备需要连接到互联网，尤其是物联网（IoT）的出现让很大一部分设备都需要有自己的 IP 地址，IPv4 地址数量已经使用完毕，并且无法满足数量需求。

**已经到来的 IPv6**

IPv6 的地址具有 128 位，因此必须写为 128 位的二进制数。由于这样的数字太长且不切实际，所以采用十六进制表示法将 128 位压缩为 16 位的 8 个块，并用冒号 : 分隔。例如 0000：0000：0000：0000：0000：ffff：c0a8：b21f。字母 a 至 f 也用作十六进制数字。如果我们在每个块的开头省略零，并用两个冒号“：: ”替换一系列连续的 0000 块，则可以进一步简化格式。上面的例子可以简写为 :: FFFF：c0a8：b21f。

![](https://upload-images.jianshu.io/upload_images/10024246-d4de0fd3c247761a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

**IP 地址的类型**

除去 IPv4 与 IPv6 的区别，IP 地址还分为动态 IP 地址、静态 IP 地址，以及保留给专用网络使用的“用于特殊目的”的 IP 地址。

**动态 IP 地址**

动态 IP 地址最常用于日常的在线浏览。当 DSL （数字用户线路）客户使用其路由器接入 Internet 时，Internet 服务提供商（ISP）会为其分配一个地址池中的随机 IP 地址。该分配的 IP 会在每次使用后进行删除，或者定期（例如每 24 小时一次）自动更改。

由于通过这种“重用” IP 地址的方式，有效减轻 IPv4 地址空间的稀缺性，因为企业可以按照客户需求配置 IP，不用考虑多买备用的问题。

**静态 IP 地址**

除非所有者自己主动更改，否则静态 IP 地址始终保持不变。这些 IP 地址经常用于 Web 服务器，因为网站必须始终在同一地址上进行访问。静态 IP 还用于专用网络（LAN）中，用于与本地打印机或家庭网络中的另一台计算机进行通信。从用户的角度来看，静态 IP 地址与动态地址相比的最大缺点是它们更容易跟踪。

**保留专用 IP 地址**

IANA （互联网数字分配机构，一个协调全球 IP 地址分配的机构）将一部分地址保留作为私人 IP 地址空间或其他特殊目的使用，大约预留了 14.5％ 的 IPv4 地址空间。例如：

*   封装在 CIDR 地址块 0.0.0.0/8 中的 IPv4 地址空间 0.0.0.0 到 0.255.255.255 是指网络的主机。
*   输入 IP 地址 127.0.0.1 时，可以与本地主机（localhost）进行通信。这对于测试新的应用程序是很有必要的。
*   IP 地址 255.255.255.255 指定用于广播。
*   地址空间 10.0.0.0 - 10.255.255.255，172.16.0.0 -172.31.255.255 和 192.168.0.0 - 192.168.255.255 保留给专用网络使用。对于 IPv6，前缀 fc00 :: / 7指定为专用。

这些 IP 是不会被 Internet 分配的，因此它们在 Internet 上也从来不会被路由。但是，如果想上网，路由器会通过网络地址转换（NAT）将专用 IP 地址转换为适用于本地网络的有效 IPv4 或 IPv6 地址。网络管理员可以手动或通过 DHCP 服务器自动分配专用 IP 地址。

## 如何找到自己的 IP 地址？

了解了 IP 的类型，那在哪里可以找到我们的 IP 地址呢？

不同的操作系统使用不同的方法查看计算机的本地 IP：

*   对于 Windows，在命令提示行中输入命令“ ipconfig ”。可以通过按 [Windows] + [R] 键在弹出的框中输入“ cmd ”来打开命令提示行。
*   Mac 系统的本地 IP 可以按以下方式查看：系统设置 > 网络。
*   Linux 系统，在命令行中输入 “ifconfig”，即可查看本机 IP 等信息。

## IP 地址与数据保护

尽管 IP 地址本身不包含任何信息，但是因为她们可用于作为用户的标识，所以时不时会成为数据隐私话题者之间争论的主题。那么 IP 地址到底有没有和用户信息有关联呢？

首先，根据用户的 IP 地址就可以链接到其对应的互联网提供商。例如，183.128 、125.112 开头的 IP，则该地址属于浙江电信。

另外，根据用户 IP 与下一个 Internet 拨入节点的距离，可以在某种程度上确定其确切的位置。在农村地区，或许只能确定一个大概区域。但是在城市地区，因为在这里几乎每隔几百米就可以找到一个拨入节点，所以确定的地理位置就要精确得多。

对于一些网站管理者，网站服务器 IP 暴露在外引起黑客攻击也是比较头疼的问题。所以通过合理的方式隐藏自己的 IP 就变得极为重要。隐藏自己的 IP 可以通过以下几种方法：

*   架设代理服务器或配置防火墙。
*   使用高防 IP 服务，将真实 IP 映射到高防 IP 进行隐藏。
*   使用 CDN 服务来隐藏自己的 Web 服务器 IP 也是一种好办法。
 ![](https://upload-images.jianshu.io/upload_images/10024246-b960eb6976a4059d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
